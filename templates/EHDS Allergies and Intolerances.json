{
  "templateId" : "EHDS Allergies and Intolerances",
  "semVer" : "1.0.0-alpha.8",
  "version" : "2.3",
  "defaultLanguage" : "en",
  "languages" : [ "en" ],
  "tree" : {
    "id" : "ehds_allergies_and_intolerances",
    "name" : "EHDS Allergies and Intolerances",
    "localizedName" : "EHDS Allergies and Intolerances",
    "rmType" : "SECTION",
    "nodeId" : "openEHR-EHR-SECTION.adhoc.v1",
    "min" : 1,
    "max" : 1,
    "localizedNames" : {
      "en" : "EHDS Allergies and Intolerances"
    },
    "localizedDescriptions" : {
      "en" : "A generic section header which should be renamed in a template to suit a specific clinical context."
    },
    "aqlPath" : "",
    "children" : [ {
      "id" : "allergy_intolerance",
      "name" : "Allergy Intolerance",
      "localizedName" : "Allergy Intolerance",
      "rmType" : "EVALUATION",
      "nodeId" : "openEHR-EHR-EVALUATION.adverse_reaction_risk.v2",
      "min" : 0,
      "max" : -1,
      "localizedNames" : {
        "en" : "Allergy Intolerance"
      },
      "localizedDescriptions" : {
        "en" : "Clinical assessment of the propensity for an individual to experience a harmful or undesirable physiological response if exposed, or re-exposed, to a substance."
      },
      "annotations" : {
        "comment" : "Substances include, but are not limited to: a therapeutic substance administered correctly at an appropriate dosage for the individual; food; material derived from plants or animals; or venom from insect stings.",
        "source" : "openEHR,FHIR"
      },
      "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']",
      "children" : [ {
        "id" : "substance",
        "name" : "Substance",
        "localizedName" : "Substance",
        "rmType" : "DV_TEXT",
        "nodeId" : "at0002",
        "min" : 1,
        "max" : 1,
        "localizedNames" : {
          "en" : "Substance"
        },
        "localizedDescriptions" : {
          "en" : "Identification of a substance, or substance class, that is considered to put the individual at risk of an adverse reaction event."
        },
        "annotations" : {
          "comment" : "Both an individual substance and a substance class are valid entries in 'Substance'. A substance may be a compound of simpler substances, for example a medicinal product. It is strongly recommended that the 'Substance' is coded with a terminology capable of triggering decision support, where possible. For example: Snomed CT, DM+D, RxNorm, NDFRT, ATC, New Zealand Universal List of Medicines and Australian Medicines Terminology. Free text entry should only be used if there is no appropriate terminology available."
        },
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/data[at0001]/items[at0002]/value",
        "inputs" : [ {
          "type" : "TEXT"
        } ]
      }, {
        "id" : "active_inactive_status",
        "name" : "Active/inactive status",
        "localizedName" : "Active/inactive status",
        "rmType" : "DV_CODED_TEXT",
        "nodeId" : "at0130",
        "min" : 0,
        "max" : 1,
        "localizedNames" : {
          "en" : "Active/inactive status"
        },
        "localizedDescriptions" : {
          "en" : "Status about whether the adverse reaction risk statement is active or inactive."
        },
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/data[at0001]/items[at0130]/value",
        "inputs" : [ {
          "suffix" : "code",
          "type" : "TEXT",
          "terminology" : "//fhir.hl7.org/ValueSet/$expand?url=http://hl7.org/fhir/ValueSet/allergyintolerance-clinical"
        }, {
          "suffix" : "value",
          "type" : "TEXT",
          "terminology" : "//fhir.hl7.org/ValueSet/$expand?url=http://hl7.org/fhir/ValueSet/allergyintolerance-clinical"
        } ]
      }, {
        "id" : "verification_status",
        "name" : "Verification status",
        "localizedName" : "Verification status",
        "rmType" : "DV_CODED_TEXT",
        "nodeId" : "at0063",
        "min" : 0,
        "max" : 1,
        "localizedNames" : {
          "en" : "Verification status"
        },
        "localizedDescriptions" : {
          "en" : "Assertion about the certainty of the propensity, or potential future risk, of the identified 'Substance' to cause a reaction."
        },
        "annotations" : {
          "comment" : "Decision support would typically raise alerts for 'Unconfirmed' and 'Confirmed', and ignore a 'Refuted' reaction. Clinical systems may choose not to display Adverse reaction entries with a 'Refuted' status in the Adverse Reaction List. However, 'Refuted' may be useful for reconciliation of the adverse reaction list or when communicating between systems. Some implementations may choose to make this field mandatory. The free text data type will allow for local variation by enabling other value sets to be applied to this data element in a template - in this situation it is recommended that values should be coded using a terminology."
        },
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/data[at0001]/items[at0063]/value",
        "inputs" : [ {
          "suffix" : "code",
          "type" : "CODED_TEXT",
          "list" : [ {
            "value" : "at0064",
            "label" : "Unconfirmed",
            "localizedLabels" : {
              "en" : "Unconfirmed"
            },
            "localizedDescriptions" : {
              "en" : "The propensity for a reaction to the identified 'Substance' has not been objectively verified."
            }
          }, {
            "value" : "at0065",
            "label" : "Confirmed",
            "localizedLabels" : {
              "en" : "Confirmed"
            },
            "localizedDescriptions" : {
              "en" : "The propensity for a reaction to the identified 'Substance' has been objectively verified. This may include clinical evidence by testing, re-challenge or observation."
            }
          }, {
            "value" : "at0066",
            "label" : "Refuted",
            "localizedLabels" : {
              "en" : "Refuted"
            },
            "localizedDescriptions" : {
              "en" : "A propensity for a reaction to the identified 'Substance' has been disputed or disproven with a sufficient level of clinical certainty to justify invalidating the assertion. This may include clinical evidence by testing, re-challenge or observation."
            }
          } ],
          "listOpen" : true
        }, {
          "suffix" : "other",
          "type" : "TEXT"
        } ]
      }, {
        "id" : "criticality",
        "name" : "Criticality",
        "localizedName" : "Criticality",
        "rmType" : "DV_CODED_TEXT",
        "nodeId" : "at0101",
        "min" : 0,
        "max" : 1,
        "localizedNames" : {
          "en" : "Criticality"
        },
        "localizedDescriptions" : {
          "en" : "An indication of the potential for critical system organ damage or life threatening consequence."
        },
        "annotations" : {
          "comment" : "This can be regarded as a predictive judgement of a 'worst case scenario'. In most contexts 'Low' would be regarded as the default value.",
          "source" : "DAM, openEHR"
        },
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/data[at0001]/items[at0101]/value",
        "inputs" : [ {
          "suffix" : "code",
          "type" : "TEXT",
          "listOpen" : true,
          "terminology" : "//fhir.hl7.org/ValueSet/$expand?url=http://hl7.org/fhir/ValueSet/allergy-intolerance-criticality"
        }, {
          "suffix" : "value",
          "type" : "TEXT",
          "terminology" : "//fhir.hl7.org/ValueSet/$expand?url=http://hl7.org/fhir/ValueSet/allergy-intolerance-criticality"
        }, {
          "suffix" : "other",
          "type" : "TEXT"
        } ]
      }, {
        "id" : "onset_of_first_reaction",
        "name" : "Onset of first reaction",
        "localizedName" : "Onset of first reaction",
        "rmType" : "DV_DATE_TIME",
        "nodeId" : "at0133",
        "min" : 0,
        "max" : 1,
        "localizedNames" : {
          "en" : "Onset of first reaction"
        },
        "localizedDescriptions" : {
          "en" : "The onset of the first known occurrence of a reaction event."
        },
        "annotations" : {
          "comment" : "For example: the actual date and/or time of onset; the interval of time during which the onset occurred; the age of the individual at the time of the onset; or the duration of time since the onset occurred. A partial date is valid, using the DV_DATE_TIME data type, to record only a year."
        },
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/data[at0001]/items[at0133]/value",
        "inputs" : [ {
          "type" : "DATETIME"
        } ]
      }, {
        "id" : "reaction_mechanism",
        "name" : "Reaction mechanism",
        "localizedName" : "Reaction mechanism",
        "rmType" : "DV_TEXT",
        "nodeId" : "at0058",
        "min" : 0,
        "max" : 1,
        "localizedNames" : {
          "en" : "Reaction mechanism"
        },
        "localizedDescriptions" : {
          "en" : "Identification of the underlying physiological mechanism for the adverse reaction."
        },
        "annotations" : {
          "comment" : "Immune-mediated responses have been traditionally regarded as an indicator for escalation of significant future risk. Contemporary knowledge suggests that some reactions previously thought to be immune are actually non-immune and still carry life threatening risk. \r\n\r\nImmunological testing may provide supporting evidence for the mechanism and causative substance , but no tests are 100% sensitive or specific for a sensitivity. \r\n\r\nIt is acknowledged that most clinicians will NOT be able to distinguish the mechanism of any specific reaction. However this data element is included because many legacy systems have captured this attribute."
        },
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/data[at0001]/items[at0058]/value",
        "inputs" : [ {
          "type" : "TEXT",
          "list" : [ {
            "value" : "Allergy",
            "label" : "Allergy"
          }, {
            "value" : "Intolerance",
            "label" : "Intolerance"
          } ],
          "listOpen" : false
        } ]
      }, {
        "id" : "adverse_reaction_event",
        "name" : "Adverse reaction event",
        "localizedName" : "Adverse reaction event",
        "rmType" : "CLUSTER",
        "nodeId" : "openEHR-EHR-CLUSTER.adverse_reaction_event.v1",
        "min" : 0,
        "max" : -1,
        "localizedNames" : {
          "en" : "Adverse reaction event"
        },
        "localizedDescriptions" : {
          "en" : "Information about a specific adverse reaction event caused by exposure to a specific substance."
        },
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/data[at0001]/items[openEHR-EHR-CLUSTER.adverse_reaction_event.v1]",
        "children" : [ {
          "id" : "manifestation",
          "name" : "Manifestation",
          "localizedName" : "Manifestation",
          "rmType" : "DV_TEXT",
          "nodeId" : "at0006",
          "min" : 0,
          "max" : -1,
          "localizedNames" : {
            "en" : "Manifestation"
          },
          "localizedDescriptions" : {
            "en" : "Clinical symptoms and/or signs that are observed or associated with the adverse reaction."
          },
          "annotations" : {
            "comment" : "Manifestation can be expressed as a single word, phrase or brief description. For example: nausea, rash. 'No reaction' may be appropriate where a previous reaction has been noted but the reaction did not re-occur after further exposure. It is preferable that 'Manifestation' should be coded with a terminology, where possible. The values entered here may be used to display on an application screen as part of a list of adverse reactions."
          },
          "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/data[at0001]/items[openEHR-EHR-CLUSTER.adverse_reaction_event.v1]/items[at0006]/value",
          "inputs" : [ {
            "type" : "TEXT"
          } ]
        }, {
          "id" : "onset_of_reaction",
          "name" : "Onset of reaction",
          "localizedName" : "Onset of reaction",
          "rmType" : "DV_DATE_TIME",
          "nodeId" : "at0008",
          "min" : 0,
          "max" : 1,
          "localizedNames" : {
            "en" : "Onset of reaction"
          },
          "localizedDescriptions" : {
            "en" : "The date and/or time of the onset of the reaction."
          },
          "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/data[at0001]/items[openEHR-EHR-CLUSTER.adverse_reaction_event.v1]/items[at0008]/value",
          "inputs" : [ {
            "type" : "DATETIME"
          } ]
        }, {
          "id" : "severity_of_reaction",
          "name" : "Severity of reaction",
          "localizedName" : "Severity of reaction",
          "rmType" : "DV_CODED_TEXT",
          "nodeId" : "at0010",
          "min" : 0,
          "max" : 1,
          "localizedNames" : {
            "en" : "Severity of reaction"
          },
          "localizedDescriptions" : {
            "en" : "Clinical assessment of the severity of the reaction event as a whole, potentially considering multiple different manifestations."
          },
          "annotations" : {
            "comment" : "It is acknowledged that this assessment is very subjective. There may be some some specific practice domains where objective scales have been applied. Objective scales can be included in this model using the 'Reaction details' Cluster."
          },
          "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/data[at0001]/items[openEHR-EHR-CLUSTER.adverse_reaction_event.v1]/items[at0010]/value",
          "inputs" : [ {
            "suffix" : "code",
            "type" : "CODED_TEXT",
            "list" : [ {
              "value" : "at0011",
              "label" : "Mild",
              "localizedLabels" : {
                "en" : "Mild"
              },
              "localizedDescriptions" : {
                "en" : "Causes mild physiological effects."
              }
            }, {
              "value" : "at0012",
              "label" : "Moderate",
              "localizedLabels" : {
                "en" : "Moderate"
              },
              "localizedDescriptions" : {
                "en" : "Causes moderate physiological effects."
              }
            }, {
              "value" : "at0013",
              "label" : "Severe",
              "localizedLabels" : {
                "en" : "Severe"
              },
              "localizedDescriptions" : {
                "en" : "Causes severe physiological effects."
              }
            } ],
            "listOpen" : true
          }, {
            "suffix" : "other",
            "type" : "TEXT"
          } ]
        } ]
      }, {
        "id" : "comment",
        "name" : "Comment",
        "localizedName" : "Comment",
        "rmType" : "DV_TEXT",
        "nodeId" : "at0006",
        "min" : 0,
        "max" : 1,
        "localizedNames" : {
          "en" : "Comment"
        },
        "localizedDescriptions" : {
          "en" : "Additional narrative about the propensity for the adverse reaction, not captured in other fields."
        },
        "annotations" : {
          "comment" : "For example: including reason for flagging a 'Criticality' of 'High risk'; and instructions related to future exposure or administration of the Substance, such as administration within an Intensive Care Unit or under corticosteroid cover."
        },
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/data[at0001]/items[at0006]/value",
        "inputs" : [ {
          "type" : "TEXT"
        } ]
      }, {
        "id" : "last_updated",
        "name" : "Last updated",
        "localizedName" : "Last updated",
        "rmType" : "DV_DATE_TIME",
        "nodeId" : "at0062",
        "min" : 0,
        "max" : 1,
        "dependsOn" : [ "substance", "criticality", "onset_of_first_reaction", "reaction_mechanism", "comment", "active_inactive_status", "verification_status", "adverse_reaction_event" ],
        "localizedNames" : {
          "en" : "Last updated"
        },
        "localizedDescriptions" : {
          "en" : "Date when the propensity or the reaction event was updated."
        },
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/protocol[at0042]/items[at0062]/value",
        "inputs" : [ {
          "type" : "DATETIME"
        } ]
      }, {
        "id" : "language",
        "name" : "Language",
        "rmType" : "CODE_PHRASE",
        "min" : 1,
        "max" : 1,
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/language",
        "inContext" : true
      }, {
        "id" : "encoding",
        "name" : "Encoding",
        "rmType" : "CODE_PHRASE",
        "min" : 1,
        "max" : 1,
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/encoding",
        "inContext" : true
      }, {
        "id" : "subject",
        "name" : "Subject",
        "rmType" : "PARTY_PROXY",
        "min" : 1,
        "max" : 1,
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v2,'Allergy Intolerance']/subject",
        "inputs" : [ {
          "suffix" : "id",
          "type" : "TEXT"
        }, {
          "suffix" : "id_scheme",
          "type" : "TEXT"
        }, {
          "suffix" : "id_namespace",
          "type" : "TEXT"
        }, {
          "suffix" : "name",
          "type" : "TEXT"
        } ],
        "inContext" : true
      } ]
    }, {
      "id" : "exclusion_-_global",
      "name" : "Exclusion - global",
      "localizedName" : "Exclusion - global",
      "rmType" : "EVALUATION",
      "nodeId" : "openEHR-EHR-EVALUATION.exclusion_global.v1",
      "min" : 0,
      "max" : 1,
      "localizedNames" : {
        "en" : "Exclusion - global"
      },
      "localizedDescriptions" : {
        "en" : "An overall statement of exclusion about all Problems/diagnoses, Family history, Medications, Procedures, Adverse reactions or other clinical items that are either not currently present, or have not been present in the past."
      },
      "aqlPath" : "/items[openEHR-EHR-EVALUATION.exclusion_global.v1]",
      "children" : [ {
        "id" : "global_exclusion_of_adverse_reactions",
        "name" : "Global exclusion of adverse reactions",
        "localizedName" : "Global exclusion of adverse reactions",
        "rmType" : "DV_TEXT",
        "nodeId" : "at0002",
        "min" : 1,
        "max" : 1,
        "localizedNames" : {
          "en" : "Global exclusion of adverse reactions"
        },
        "localizedDescriptions" : {
          "en" : "Overall statement of exclusion about all adverse reactions at the time of recording."
        },
        "annotations" : {
          "comment" : "For example: 'No previous diagnoses', 'No known family history', 'No known history of adverse reactions', 'Never taken any medications' or 'No known operations or significant procedures'."
        },
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.exclusion_global.v1]/data[at0001]/items[at0002,'Global exclusion of adverse reactions']/value",
        "inputs" : [ {
          "type" : "TEXT",
          "list" : [ {
            "value" : "No known allergies",
            "label" : "No known allergies"
          }, {
            "value" : "No known medication allergies",
            "label" : "No known medication allergies"
          }, {
            "value" : "No known environmental allergies",
            "label" : "No known environmental allergies"
          }, {
            "value" : "No known food allergies",
            "label" : "No known food allergies"
          } ],
          "listOpen" : false
        } ]
      }, {
        "id" : "language",
        "name" : "Language",
        "rmType" : "CODE_PHRASE",
        "min" : 1,
        "max" : 1,
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.exclusion_global.v1]/language",
        "inContext" : true
      }, {
        "id" : "encoding",
        "name" : "Encoding",
        "rmType" : "CODE_PHRASE",
        "min" : 1,
        "max" : 1,
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.exclusion_global.v1]/encoding",
        "inContext" : true
      }, {
        "id" : "subject",
        "name" : "Subject",
        "rmType" : "PARTY_PROXY",
        "min" : 1,
        "max" : 1,
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.exclusion_global.v1]/subject",
        "inputs" : [ {
          "suffix" : "id",
          "type" : "TEXT"
        }, {
          "suffix" : "id_scheme",
          "type" : "TEXT"
        }, {
          "suffix" : "id_namespace",
          "type" : "TEXT"
        }, {
          "suffix" : "name",
          "type" : "TEXT"
        } ],
        "inContext" : true
      } ]
    }, {
      "id" : "absence_of_information",
      "name" : "Absence of information",
      "localizedName" : "Absence of information",
      "rmType" : "EVALUATION",
      "nodeId" : "openEHR-EHR-EVALUATION.absence.v2",
      "min" : 0,
      "max" : 1,
      "localizedNames" : {
        "en" : "Absence of information"
      },
      "localizedDescriptions" : {
        "en" : "Statement that specified health information is not available for inclusion in the health record or extract at the time of recording."
      },
      "aqlPath" : "/items[openEHR-EHR-EVALUATION.absence.v2]",
      "children" : [ {
        "id" : "absence_statement",
        "name" : "Absence statement",
        "localizedName" : "Absence statement",
        "rmType" : "DV_TEXT",
        "nodeId" : "at0002",
        "min" : 1,
        "max" : 1,
        "localizedNames" : {
          "en" : "Absence statement"
        },
        "localizedDescriptions" : {
          "en" : "Positive statement that no information is available."
        },
        "annotations" : {
          "comment" : "For example: \"No information available about adverse reactions\"; No information available about problems or diagnoses\"; \"No information available about previous procedures performed\"; or \"No information available about medications used\"."
        },
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.absence.v2]/data[at0001]/items[at0002]/value",
        "inputs" : [ {
          "type" : "TEXT",
          "list" : [ {
            "value" : "No information about allergies",
            "label" : "No information about allergies"
          } ],
          "listOpen" : false
        } ]
      }, {
        "id" : "last_updated",
        "name" : "Last updated",
        "localizedName" : "Last updated",
        "rmType" : "DV_DATE_TIME",
        "nodeId" : "at0004",
        "min" : 0,
        "max" : 1,
        "dependsOn" : [ "absence_statement" ],
        "localizedNames" : {
          "en" : "Last updated"
        },
        "localizedDescriptions" : {
          "en" : "The date at which the absence was last updated."
        },
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.absence.v2]/protocol[at0003]/items[at0004]/value",
        "inputs" : [ {
          "type" : "DATETIME"
        } ]
      }, {
        "id" : "language",
        "name" : "Language",
        "rmType" : "CODE_PHRASE",
        "min" : 1,
        "max" : 1,
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.absence.v2]/language",
        "inContext" : true
      }, {
        "id" : "encoding",
        "name" : "Encoding",
        "rmType" : "CODE_PHRASE",
        "min" : 1,
        "max" : 1,
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.absence.v2]/encoding",
        "inContext" : true
      }, {
        "id" : "subject",
        "name" : "Subject",
        "rmType" : "PARTY_PROXY",
        "min" : 1,
        "max" : 1,
        "aqlPath" : "/items[openEHR-EHR-EVALUATION.absence.v2]/subject",
        "inputs" : [ {
          "suffix" : "id",
          "type" : "TEXT"
        }, {
          "suffix" : "id_scheme",
          "type" : "TEXT"
        }, {
          "suffix" : "id_namespace",
          "type" : "TEXT"
        }, {
          "suffix" : "name",
          "type" : "TEXT"
        } ],
        "inContext" : true
      } ]
    } ]
  }
}